(function(d){
/*
jQuery.jwPlayer
by Keith C. Ivey, keith@iveys.org
Copyright 2010, Smokescreen Corporation
Dual licensed under the MIT and GPL licenses
http://www.opensource.org/licenses/mit-license.php
http://www.gnu.org/licenses/gpl.html
Version 0.104 (2010-04-13)
*/
var b={ITEM:"Controller",MUTE:"Controller",PLAY:"Controller",PLAYLIST:"Controller",RESIZE:"Controller",SEEK:"Controller",STOP:"Controller",VOLUME:"Controller",BUFFER:"Model",ERROR:"Model",LOADED:"Model",META:"Model",STATE:"Model",TIME:"Model",FULLSCREEN:"View",LINK:"View",LOAD:"View",NEXT:"View",PREV:"View",REDRAW:"View"};var e={ITEM:{index:"item"},STATE:{newstate:"state"},TIME:{position:"position",duration:"duration"},VOLUME:{volume:"volume"}};var a=["author","autostart","backcolor","bufferlength","config","controlbar","date","debug","description","displaytitle","dock","duration","file","frontcolor","fullscreen","icons","image","item","lightcolor","mute","playerready","playlist","playlistfile","playlistsize","plugins","provider","repeat","screencolor","shuffle","skin","smoothing","start","streamer","stretching","tags","title","volume"];function c(h){var f,g=0;while(true){f="jwPlayer_"+h;if(g){f+=g}if(!window[f]){return f}g++}}d.fn.jwPlayer=function(h){var g,f,i,j;if(typeof h=="string"){g=d.fn.jwPlayer[h];if(!g){throw ("No such method: jwPlayer."+h)}f=d.makeArray(arguments).slice(1);i=this.data("jwPlayerData");f.unshift(i);return g.apply(this,f)}h=d.extend({},d.fn.jwPlayer.defaults,h);for(j in h){if(d.inArray(j,a)!=-1){h.flashvars[j]=h[j];delete h[j]}}if(!h.height){h.height=this.height()?"100%":"480px"}else{if(h.height.toString().match(/^[0-9]+$/)){h.height+="px"}}if(!h.width){h.width=this.width()?"100%":"640px"}else{if(h.width.toString().match(/^[0-9]+$/)){h.width+="px"}}return this.each(function(o){var l=h.id,q=d(this);if(o){l+="-"+o}if(h.flashvars.playlistfile){if(!h.flashvars.playlist){h.flashvars.playlist="bottom"}if(!h.flashvars.playlistsize){h.flashvars.playlistsize=200}}function s(v,u){return function(x){var y,w;for(y in v){q.jwPlayer("set",v[y],x[y])}if(u=="statelistener"){w=q.jwPlayer("get","seek");if((x.newstate=="PAUSED"||x.newstate=="PLAYING")&&w!==false){q.jwPlayer("set","seek",false);q.jwPlayer("seek",w)}}if(h[u]){h[u](x)}}}var n,p,t,r={};for(n in b){p=n.toLowerCase()+"listener";if(e[n]){t=e[n];r[n]=s(t,p)}else{if(h[p]){r[n]=h[p]}}}var m=c("playerReady");var k=h.flashvars.playerready;window[m]=function(w){var v={obj:d("#"+l)[0],duration:null,item:0,state:"IDLE",position:0,seek:false,volume:null};q.data("jwPlayerData",v);var u;for(u in r){q.jwPlayer("addListener",u,r[u])}if(k){k(w)}};h.flashvars.playerready=m;q.flash({swf:h.swf,id:l,name:l,height:h.height,width:h.width,wmode:h.wmode,params:{allowfullscreen:"true",allowscriptaccess:"always",enablejs:"true",flashvars:h.flashvars}});return this})};d.extend(d.fn.jwPlayer,{defaults:{flashvars:{},id:"jwplayer",swf:"/common/flash/player5.swf",wmode:"opaque"},set:function(h,g,f){h[g]=f},get:function(g,f){return g[f]},item:function(g,f){f=parseInt(f,10);g.obj.sendEvent("ITEM",f);return this},load:function(g,f){g.obj.sendEvent("LOAD",f);return this},mute:function(f){f.obj.sendEvent("MUTE");return this},next:function(f){f.obj.sendEvent("NEXT");return this},pause:function(f){f.obj.sendEvent("PLAY","false");return this},play:function(f){f.obj.sendEvent("PLAY","true");return this},resume:function(f){f.obj.sendEvent("PLAY","true");return this},start:function(f){f.obj.sendEvent("PLAY","true");return this},togglePlay:function(f){f.obj.sendEvent("PLAY");return this},prev:function(f){f.obj.sendEvent("PREV");return this},redraw:function(f){f.obj.sendEvent("REDRAW");return this},seek:function(h,f){var g;f=parseFloat(f);if(!f){f=0.001}g=this.jwPlayer("get","state");if(g=="PLAYING"||g=="PAUSED"){h.obj.sendEvent("SEEK",f);h.seek=false}else{if(g=="IDLE"){h.obj.sendEvent("PLAY","true");h.obj.sendEvent("PLAY","false")}h.seek=f}return this},stop:function(f){f.obj.sendEvent("STOP");return this},volume:function(g,f){f=parseInt(f,10);g.obj.sendEvent("VOLUME",f);return this},getConfig:function(h,g){var f=h.obj.getConfig();return g?f[g]:f},getPlaylist:function(g,f){var h=g.obj.getPlaylist();return f||f===0?h[f]:h},addListener:function(g,f,j){var i,h="add"+b[f]+"Listener";if(d.isFunction(j)){i=c(f.toLowerCase()+"Listener");window[i]=j;j=i}return g.obj[h](f,j)}})})(jQuery);